{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block content %}
  <div class="container mt-4">

    <div class="d-flex align-items-start gap-4 bg-dark text-white p-4 rounded shadow-sm" style="font-size: 16px;">

      <div>
        {% if product.image %}
          <img src="{{ product.image.url }}" alt="{{ product.name }}" style="width: 480px; height: auto; border-radius: 10px;">
        {% else %}
          <div style="width: 280px; height: 480px; background-color: #eee; border-radius: 10px;"></div>
        {% endif %}
      </div>

      <div class="d-flex justify-content-between w-100" style="margin: 5px">

        <div class="flex-grow-1 pe-4">

          <div class="mb-3">
            <h2 style="text-align: center">{{ product.name }}</h2>
            <p>
              <strong>Category:</strong> <span style="margin: 5px;" class="badge bg-secondary">{{ product.category }}</span>
            </p>
            <p>
              <strong>Memory:</strong> <span style="margin: 5px;" class="badge bg-secondary">{{ product.memory }}GB</span>
            </p>
            <p>
              <strong>Screen size:</strong><span style="margin: 5px;" class="badge bg-secondary">{{ product.screen_size }}"</span>
            </p>
            <p>
              <strong>Color:</strong> <span style="margin: 5px;" class="badge bg-secondary">{{ product.color }}</span>
            </p>
            <p>
              <strong>Battery capacity:</strong><span style="margin: 5px;" class="badge bg-secondary">{{ product.battery_capacity }} mAh</span>
            </p>
            <p>
              <strong>Price:</strong> <span style="margin: 5px;" class="text-success">{{ product.price }} $</span>
            </p>
          </div>

          <form action="{% url 'store:add-to-cart' product_id=product.id %}" method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit" class="btn btn-outline-light btn-sm" style="width: 200px; height: 50px;">
              ğŸ›’ Add to cart
            </button>
          </form>

          <div class="mt-3" style="max-width: 300px; min-width: 240px;">
            <h6 class="mb-2">ğŸ“¦ Free Delivery & Warranty</h6>
            <ul class="mb-2 ps-3" style="font-size: 14px;">
              <li>Free delivery in 3â€“5 days</li>
              <li>1-year official warranty</li>
              <li>Easy 30-day returns</li>
            </ul>
            <p class="fst-italic text-light">ğŸ¤– â€œLifeâ€™s better when youâ€™ve got apples...â€</p>
          </div>

        </div>
      </div>
    </div>

    <div class="mt-4">
      <h4>ğŸ“„ Description</h4>
      <p class="bg-light p-3 rounded" style="font-size: 16px; color: #333;">{{ product.description }}</p>
    </div>

  </div>
{% endblock %}
